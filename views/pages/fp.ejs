<!DOCTYPE html>
<html lang="en">
<head>
     <%- include('../partials/head.ejs'); %>  
     <title>UPUI – Reset Your Password</title>  
<meta name="description" content="Reset your password for Urhobo Progress Union Ireland (UPUI) to regain access to your account securely. Follow the instructions to reset your credentials.">

<!-- Open Graph Meta Tags for Facebook, LinkedIn, etc. -->
<meta property="og:title" content="UPUI – Reset Your Password">
<meta property="og:description" content="Forgot your password? Reset it securely for your Urhobo Progress Union Ireland (UPUI) account.">
<meta property="og:image" content="https://upuireland.org/img/upuilogo.png">
<meta property="og:url" content="https://upuireland.org/reset-password">
<meta property="og:type" content="website"> 

<!-- Twitter Card Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="UPUI – Reset Your Password">
<meta name="twitter:description" content="Securely reset your UPUI account password and regain access.">
<meta name="twitter:image" content="https://upuireland.org/img/upuilogo.png">
<meta name="twitter:url" content="https://upuireland.org/reset-password">

 
  <style>
     .loginf{
           min-width:100px;
           margin-left:40px;
           margin-right:40px;
           padding-left:20px;
           padding-right:20px;
           margin-top:40px;    
           text-align:center; 
           margin-bottom:40px;
        }     

          .loginf i{
             font-size:70px;
             color:dodgerblue;
             animation:reset 1.5s linear infinite;
             margin-bottom:15px;
          }  

          @keyframes reset{
              from{
                color:black;
              }   

              to{
                color:dodgerblue;
              }
          }

          .loginf input{
           width:100%;
           border:1px solid grey;
           margin-top:7px;
           padding:13px;
        }  

        .loginf input[type='email']:focus {
              border-color:dodgerblue;
        }

        .loginf button{
             padding:15px;
             border:none;
             border-radius:5px; 
             color:white;
             background-color:dodgerblue;
             margin-top:13px; 
             font-weight:bold;
             width:100%; 
             font-size:17px;
        }   

        @media only screen and (max-width:600px) {
          .loginf{ 
           margin-left:20px;
           margin-right:20px;    
        }  
    }
    
 
  </style>
</head>
<body>
    
     	<!-- Preloader -->
		<%- include('../partials/preloader.ejs') %>
    <!-- End Preloader -->
 

<!-- Header Area -->
<%- include('../partials/header.ejs') %>
<!-- End Header Area -->

<!-- Breadcrumbs -->
<div class="breadcrumbs overlay">
  <div class="container">
    <div class="bread-inner">
      <div class="row">
        <div class="col-12">
          <h2>Reset Password</h2>
          <ul class="bread-list">
            <li><a href="/">Home</a></li>
            <li><i class="icofont-simple-right"></i></li>
            <li class="active">Reset Password</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- End Breadcrumbs -->

  
 

    <div class="loginf">
        <form id="reset">
        <i class="fa fa-key"></i> <br>
        <p class="bigg">Enter your gmail to continue password reset..A link will 
            be sent to reset your password</p>
        <input id="validemail" type="email" required> 
        <button class="btn" id="sending">Reset</button>
      </form>
       </div>  

       <%- include('../partials/footer.ejs'); %>

       <script>
                     
         
          var rst = document.getElementById('reset');   
          rst.addEventListener('submit', async (vm)=>{
               vm.preventDefault(); 
           var vml = document.getElementById('validemail').value; 
           var snd = document.getElementById('sending');
           snd.style.opacity = '0.655';
           snd.innerHTML='Checking Email..';
           const dataa = {
                 anemail : vml,
           }   


          try{
           const resp = await fetch('/submitemail', {
            body : JSON.stringify(dataa),
            method : 'post',
            headers : {
                  'Content-Type' : 'application/json',
                  Accept : 'application/json',
            },
           });

           if(!resp.ok){
             throw resp;
           }  
             alert('Email sent, please check your inbox or spam');
           snd.style.opacity = '1';
           location.reload();

        }

        catch(err){
            const error = await err.text();
            alert(error);
            location.reload();
        }
        
        });
       </script>

</body>
</html>